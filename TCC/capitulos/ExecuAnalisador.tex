\chapter{Obtenção de Dados}
Para executar o analisador é necessário um \acs{CSV} que possui em seus campos o nome dos projeto, versões e caminho para que cada um seja analisado. Após o {\it input} é realizado uma pesquisa dados o caminho fornecido pelo \acs{CSV}.
É elaborada um pesquisa pelos arquivos fontes \textit{Java} e são armazenados em uma \textit{Collection} para que seja efetuada uma contagem das \acs{LOC} com o programa \acs{CLOC}.

Posteriormente os arquivos armazenados na \textit{Collection} são direcionados para a classe \textit{ProjectAnaliser.java} que que esta gere um \textit{parser} para cada arquivo e os \textit{visitors} elaborem uma pesquisa conforme suas configurações. Cada característica pesquisada é armazenada em uma \textit{Collection} de resultado a qual ao final de todo processo será tratada e cada característica será escrita um um arquivo \acs{CSV}.

Para este trabalho foram implementados \textit{visitors} que pesquisavam sobre adoção de \textit{if(String) - elseif} aninhados podendo ser convertidos para \textit{Switch(String)},  adoção de \textit{Try(resource)},  adoção de \textit{Multicatch} e \textit{trys} que tivessem mais de um \textit{catch} aninhado e \textit{LambdaExpression} onde neste foi elaborado um trabalho mais detalhado para ir além da adoção. Pesquisando possíveis casos onde Loops For, \textit{EnhancedFor}, que iteram sobre uma \textit{Collection} e funcionassem de forma específica como \textit{Filter} ou \textit{Exists} abaixo seguem alguns modelos de exemplo como inspiração para pesquisa dos \textit{visitors}.

\begin{lstlisting}
//Com if else
if(String.equals(...)){
...
}else if(String.equals(...)){
...
}else{
...
}

//Switch
Switch(String){
	case "...":
		...
	case "...":
		...
	default:
		....
}
\end{lstlisting}

\begin{lstlisting}
static String readFirstLineFromFile(String path) throws IOException {
	try (BufferedReader br = new BufferedReader(new FileReader(path))) {
		return br.readLine();
	}
}
\end{lstlisting}


\begin{lstlisting}
	// Sem Multicatch
	try {
		...
	}catch (ConversionException ex) {
		...
	}catch (IllegalArgumentException ex) {
		...
	}
	
	//Multicatch
	try {
		...
	}catch (ConversionException ex | IllegalArgumentException ex) {
		...
	}
\end{lstlisting}

\begin{lstlisting}

//Exists
for(String s : getList()){
	if(s == null){
		return true;
}

//Com Lambda
boolean exists = getList().stream()
            .anyMatch(s -> s == null));
            

//Filter
List<String> l;
for(String s : getList()){
	if(s.equals(...)){
		l.add(s);
	}
}

//Com Lambda
List<String> l = getList().stream().filter(s.equals(...));

\end{lstlisting}


\section{Tratar Dados}
Os dados obtidos serão tratados com o software R \cite{R} versão (3.1.2) além da biblioteca ggplot \cite{ggplot} versão (1.0.1) para gerar gráficos mais elegantes.


\section{Projetos Escolhidos}
Os projetos foram escolhidos baseados nos estudos realizados por \cite{Parnin:ACM2011} e \cite{Dyer:ACM2014}. Este projetos totalizaram um total de mais de 67M \acs{LOC} onde a tabela \ref{tab:ProjetosEscolhidos} exibe em detalhes as versões escolhidas.


\begin{table}[ht]
	\centering
	\caption{Projetos Escolhidos}
	\label{tab:ProjetosEscolhidos}
	\begin{tabular}{c|c|c}
		\hline \hline
		\textbf{Projeto}    &   \textbf{Versão} & \textbf{Quantidade Releases}\\ \
	      Ant & 1.0 até 1.9.6 & 33\\
	      Checkstyle & 4.4 até 6.8.1 & 21\\
	      CommonsCollections & 1.0 até 4.4.0-alpha1 & 9\\
	      FindBugs & 1.2.1 até 3.0.1 & 13\\
	      FreeMind & 0.0.até 1.0.1 & 18\\
	      Hibernate & 4.2.1 até 5.0.0 & 24\\
	      JBoss & 3.2.8 até 9.0.1 & 25\\
	      Jetty & 5.1.8 até 9.3.2 & 65\\
	      Log4j & 2.0 até 2.3 & 19\\
	      Spring & 3.0.0M1 até 4.2.0.RC2 & 72\\
	      SquirrelSql & 2.3.2 até 3.2.3 & 4\\
	      Weka & 3.6.0 até 3.6.12 & 13\\
	      Xerces & 2.9.1 até 2.11.0 & 3\\
	      
      \hline
    \end{tabular}
\end{table}